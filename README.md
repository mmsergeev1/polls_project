# Система опросов
## Установка
* Клонируйте репозиторий в новую директорию <br>
`git clone https://github.com/mmsergeev1/polls_project.git` <br><br>
* Желательно: Создайте виртуальное окружение для проекта и активируйте его <br><br>
* Установите зависимости<br>
`pip install -r requirements.txt` <br><br>
* В корень проекта положите файл .env (нет в репозитории)
## Настройка приложения
### База данных
* Так как это тестовый проект, используется СУБД SQLite3.<br> 
Если у вас нет неоходимости менять базу данных, то пропустите данный раздел.
* Чтобы заменить базу данных на нужную, замените объект DATABASES в polls_project/settings.py
### Миграции
Выполните команды: <br>
* Windows: `manage.py makemigrations` <br>
`manage.py migrate`
* \*NIX: `python manage.py makemigrations` <br>
`python manage.py migrate` <br>
Команда makemigrations создаст миграции в БД, если по какой-то причине они не были созданы ранее.<br>
migrate выполнит созданные миграции, в БД должны будут появиться таблицы, которые соответствуют моделям данных из проекта.
### Последние настройки
* Создайте суперпользователя:<br>
Windows: `manage.py createsuperuser` <br>
\*NIX: `python manage.py createsuperuser` <br>
Это нужно, чтобы вы могли попасть в админку сайта и админку Django REST Framework<br>
В сервисе не предусмотрена регистрация новых пользователей никак, кроме как через админку.<br>
* Соберите статичные файлы:<br>
Windows: `manage.py collectstatic` <br>
\*NIX: `python manage.py collectstatic` <br>
## Проект на Django готов к запуску!
## Описание функционала
### Функционал для администратора системы
- авторизация в системе
- добавление/изменение/удаление опросов. Атрибуты опроса: название, дата старта, дата окончания, описание. После создания поле "дата старта" у опроса менять нельзя
- добавление/изменение/удаление вопросов в опросе. Атрибуты вопросов: текст вопроса, тип вопроса (ответ текстом, ответ с выбором одного варианта, ответ с выбором нескольких вариантов)
### Функционал для пользователей системы
- получение списка активных опросов
- прохождение опроса: опросы можно проходить анонимно, в качестве идентификатора пользователя в API передаётся числовой ID, по которому сохраняются ответы пользователя на вопросы; один пользователь может участвовать в любом количестве опросов
- получение пройденных пользователем опросов с детализацией по ответам (что выбрано) по ID уникальному пользователя
## Описание приложения
* /admin - вход в админку. Здесь можно добавлять, изменять и удалять опросы.
* /api-auth/login | /api-auth/logout - авторизация для API
* /api/v1 - доступ к API
* /api/v1/statistic/<id пользователя> - метод API для получения пройденных опросов по ID пользователя
* polls/ - получение списка доступных опросов
* <id опроса>/ - участие в опросе
* <id опроса>/results - обезличенная статистика ответов на опрос
* <id опроса>/vote - URL для отправки данных о голосе
